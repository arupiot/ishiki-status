(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(t,e,a){t.exports=a(80)},31:function(t,e,a){},79:function(t,e,a){},80:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(17),i=a.n(o),l=(a(31),a(18)),d=a(19),r=a(22),c=a(20),u=a(24),m=a(7),h=a.n(m),p=a(21),f=a(23),g=(a(79),function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(r.a)(this,Object(c.a)(e).call(this,t))).statusEndpoint="https://arup-iot-desk.appspot.com/api/desks/",a.infoEndpoint="http://statusserver/info",a.infoLoading=!0,a.state={booked:!1,userEmail:"",deskName:"",deskId:"",infoLoading:!0,statusLoading:!0},a}return Object(u.a)(e,t),Object(d.a)(e,[{key:"getStatus",value:function(){var t=this;""!==this.state.deskId&&h.a.get(this.statusEndpoint+this.state.deskId).then(function(e){console.log(e.data),t.setState({booked:e.data.booked,userEmail:e.data.user_email,deskName:e.data.name,statusLoading:!1})})}},{key:"getInfo",value:function(){var t=this;h.a.get(this.infoEndpoint).then(function(e){if(console.log(e),e.data[2].length){var a=void 0!==e.data[2][1]?e.data[2][1]:null;t.setState({hostname:e.data[0],eth0Ip:e.data[2][0][2],wlan0Ip:a,deskId:e.data[1],infoLoading:!1})}})}},{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){var t=this;return!1!==this.state.infoLoading&&setInterval(function(){t.getStatus()},4e3),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("p",{className:"debug"},s.a.createElement("code",null,this.state.hostname," : (",this.state.eth0Ip,") : (",this.state.wlan0Ip,")")),s.a.createElement("p",null,s.a.createElement("code",null,this.state.deskName)),this.state.booked||this.state.statusLoading?s.a.createElement(p.ClipLoader,{css:"",sizeUnit:"px",size:150,color:"#fff",loading:this.state.statusLoading}):s.a.createElement(s.a.Fragment,null,"...is available!",s.a.createElement("p",{className:"available-tick"},s.a.createElement(f.a,null))),this.state.booked&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Booked by: ",this.state.userEmail),s.a.createElement("p",null,"until 5:30pm"))))}}]),e}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.f3957df7.chunk.js.map