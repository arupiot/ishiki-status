(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(80)},31:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(17),i=a.n(s),l=(a(31),a(18)),d=a(19),c=a(22),r=a(20),u=a(24),m=a(7),h=a.n(m),p=a(21),f=a(23),k=(a(79),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).statusEndpoint="https://arup-iot-desk.appspot.com/api/desks/",a.infoEndpoint=void 0,a.infoLoading=!0,a.state={booked:!1,userEmail:"",deskName:"",deskId:"",infoLoading:!0,statusLoading:!0},a.infoEndpoint="http://localhost/info",a}return Object(u.a)(t,e),Object(d.a)(t,[{key:"getStatus",value:function(){var e=this;""!==this.state.deskId&&h.a.get(this.statusEndpoint+this.state.deskId).then(function(t){console.log(t.data),e.setState({booked:t.data.booked,userEmail:t.data.user_email,deskName:t.data.name,statusLoading:!1})})}},{key:"getInfo",value:function(){var e=this;h.a.get(this.infoEndpoint).then(function(t){if(console.log(t),t.data[2].length){var a=void 0!==t.data[2][1]?t.data[2][1]:null;e.setState({hostname:t.data[0],eth0Ip:t.data[2][0][2],wlan0Ip:a,deskId:t.data[1],infoLoading:!1})}})}},{key:"componentDidMount",value:function(){this.getInfo()}},{key:"render",value:function(){var e=this;return!1!==this.state.infoLoading&&setInterval(function(){e.getStatus()},4e3),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},!1,o.a.createElement("p",null,o.a.createElement("span",{className:"desk-label"},"Desk:")," ",o.a.createElement("code",{className:"desk-name"},this.state.deskName)),this.state.booked||this.state.statusLoading?o.a.createElement(p.ClipLoader,{css:"",sizeUnit:"px",size:150,color:"#fff",loading:this.state.statusLoading}):o.a.createElement(o.a.Fragment,null,"...is available!",o.a.createElement("p",null,o.a.createElement(f.a,{className:"available-tick"}))),this.state.booked&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Booked by: ",this.state.userEmail),o.a.createElement("p",null,"until 5:30pm"))))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.852d4b65.chunk.js.map